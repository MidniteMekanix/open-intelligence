(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{117:function(e){e.exports=JSON.parse('{"generic":{"close":"Close","save":"Save","reject":"Reject","delete":"Delete"},"navbar":{"home":"Home","cameras":"Cameras","plates":"Plates","faces":"Faces","training":"Training","changeLanguage":"Change language"},"home":{"calendar":{"vehicle_activity":"Vehicle activity","originalLicensePlateImage":"Original image file where selected calendar event license plate is seen"},"dateRangeSelector":{"daysBetween":"Day\'s between"},"dateSelector":{"selectedDay":"Selected day","earlier":"\u2190 Earlier","next":"Next \u2192"},"faceIdentity":{"faceIdentifications":"Face identifications","faceIdentificationsFooter":"Face identification results are mostly indicative and may not be accurate","tryFaceDetectionAgain":"Try detection again for this image?"},"instances":{"runningInstances":"Running instances","process":"Process","aliveCheck":"Alive check","started":"Started"},"labels":{"labelViewer":"Label viewer","noLabelSelected":"No label selected","selectedLabel":"Selected {{label}} label","activityBtn":"Activity","activityForSelectedDate":"Activity for selected date","showingActivityStartOfDay":"Showing activity from start of selected day","srImage":"This is processed super resolution image","standardImage":"This is standard image"}},"plates":{"cars":{"unknownCars":"Unknown cars","byDefaultDescription":"By default only cars from today are loaded. Pick day range to load more.","requireAttentionDescription":"This view shows you cars which require your attention","addNewPlate":"Add new plate","addNewPlateDescription":"Add new plate based on pre detection. Correct the plate based on image. License plate can be given with or without \\"-\\" character."},"owners":{"vehicleOwners":"Vehicle owners","searchFilter":"Search filter...","addPlate":"Add plate","plate":"Plate","owner":"Owner","actions":"Actions","vehicleCount":"Vehicle count: {{count}}","edit":"Edit","remove":"Remove","editExistingPlate":"Edit existing plate","editPlateDescription":"You are editing existing license plate item. License plate can be given with or without \\"-\\" character."}},"faces":{"earlier":"\u2190 Earlier","next":"Next \u2192","modalOriginalImageDescription":"Original image file where face is detected"},"training":{"personTraining":{"title":"Person grouping and training","clickImageDescription":"Click image and then select who is in the image. This is used for training.","trainModel":"Train model","loadMore":"Load more","deleteAllVisible":"Delete all visible"},"plateTraining":{"plateTraining":"Plate training","plateTrainingDescription":"Plate training is only available as old jQuery version. Navigate there using button below.","openPlateTraining":"Open plate training"}},"activityModal":{"hourDataSet":"24-hour dataset"},"genericImageModal":{"srVersion":"SR version","normalVersion":"Normal version"},"plateEditModal":{"licencePlate":"Licence plate","ownerName":"Owner name","inputDescription":"Input without lines, example ABC123","ownerNameInputHelp":"Give full owner name"}}')},118:function(e){e.exports=JSON.parse('{"generic":{"close":"Sulje","save":"Tallenna","reject":"Hylk\xe4\xe4","delete":"Poista"},"navbar":{"home":"Koti","cameras":"Kamerat","plates":"Kilvet","faces":"Kasvot","training":"Opettaminen","changeLanguage":"Vaihda kielt\xe4"},"home":{"calendar":{"vehicle_activity":"Ajoneuvo aktiviteetti","originalLicensePlateImage":"Originaali kuva jossa kalenteri tapahtuman rekistrinumero on n\xe4hty"},"dateRangeSelector":{"daysBetween":"Aikav\xe4li"},"dateSelector":{"selectedDay":"Valittu p\xe4iv\xe4","earlier":"Aikaisempi","next":"Seuraava"},"faceIdentity":{"faceIdentifications":"Kasvon tunnistukset","faceIdentificationsFooter":"Kasvontunnistus on suuntaa-antava ja tulokset eiv\xe4t ole tarkkoja","tryFaceDetectionAgain":"Yrit\xe4 tunnistusta uudelleen t\xe4lle kuvalle?"},"instances":{"runningInstances":"Ajossa olevat instanssit","process":"Prosessi","aliveCheck":"Raportoitu","started":"K\xe4ynnistetty"},"labels":{"labelViewer":"Leikekuvien katselu","noLabelSelected":"Ei valittua nimikett\xe4","selectedLabel":"Valittu {{label}} nimike","activityBtn":"Aktiivisuus","activityForSelectedDate":"Aktiivisuus valitulle p\xe4iv\xe4lle","showingActivityStartOfDay":"N\xe4kym\xe4 n\xe4ytt\xe4\xe4 aktiivisuuden valitun p\xe4iv\xe4n alusta","srImage":"T\xe4m\xe4 on prosessoitu super resoluutio kuva","standardImage":"T\xe4m\xe4 on normaali kuva"}},"plates":{"cars":{"unknownCars":"Tuntemattomat kuljetusv\xe4lineet","byDefaultDescription":"N\xe4kym\xe4 lataa vakiona vain t\xe4m\xe4n p\xe4iv\xe4n kuljetusv\xe4lineet. Valitse kalenterista aikam\xe4\xe4re ladataksesi enemm\xe4n.","requireAttentionDescription":"T\xe4m\xe4 n\xe4kym\xe4 n\xe4ytt\xe4\xe4 kuljetusv\xe4lineet jotka vaativat huomiotasi","addNewPlate":"Lis\xe4\xe4 uusi kilpi","addNewPlateDescription":"Lis\xe4\xe4 uusi kilpi perustuen automaattiseen esiluentaan. Korjaa luentaa tarpeen mukaan perustuen kuvaan. Rekiterikilven tieto annetaan ilman \\"-\\" merkki\xe4."},"owners":{"vehicleOwners":"Kuljetusv\xe4lineen omistajat","searchFilter":"Haku...","addPlate":"Lis\xe4\xe4 kilpi","plate":"Kilpi","owner":"Omistaja","actions":"Toiminnot","vehicleCount":"Kuljetusv\xe4lineiden m\xe4\xe4r\xe4: {{count}}","edit":"Muokkaa","remove":"Poista","editExistingPlate":"Muokkaa olemassa olevaa","editPlateDescription":"Olet muokkaamassa olemassa olevaa rekisterinumeroa. Rekiterikilven tieto annetaan ilman \\"-\\" merkki\xe4."}},"faces":{"earlier":"Aikaisempi","next":"Seuraava","modalOriginalImageDescription":"Originaali kuva jossa kasvo on tunnistettu"},"training":{"personTraining":{"title":"Henkil\xf6iden kategorisointi ja opettaminen","clickImageDescription":"Paina kuvaa ja valitse kuka kuvassa on. Tietoa k\xe4ytet\xe4\xe4n opetusmallin opettamiseen.","trainModel":"Opeta malli","loadMore":"Lataa lis\xe4\xe4","deleteAllVisible":"Poista kaikki n\xe4kyv\xe4t"},"plateTraining":{"plateTraining":"Kilpien opetus","plateTrainingDescription":"Kilpien opetus on saatavilla vain vanhalla jQuery versiolla. Avaa vanha versio napista.","openPlateTraining":"Avaa kilpien opetus"}},"activityModal":{"hourDataSet":"24-tunnin aktiviteetti"},"genericImageModal":{"srVersion":"SR versio","normalVersion":"Normaali versio"},"plateEditModal":{"licencePlate":"Rekisterinumero","ownerName":"Omistajan nimi","inputDescription":"Lis\xe4\xe4 ilman viivoja esim ABC123","ownerNameInputHelp":"Anna koko omistajan nimi"}}')},119:function(e){e.exports=JSON.parse('{"generic":{"close":"\u5173\u95ed","save":"\u4fdd\u5b58","reject":"\u62d2\u7edd","delete":"\u5220\u9664"},"navbar":{"home":"\u4e3b\u9875","cameras":"\u6444\u50cf\u673a","plates":"\u8f66\u724c","faces":"\u9762\u5b54","training":"\u8bad\u7ec3","changeLanguage":"\u8bed\u8a00\u9009\u62e9"},"home":{"calendar":{"vehicle_activity":"\u8f66\u8f86\u884c\u8e2a","originalLicensePlateImage":"\u67e5\u770b\u8f66\u724c\u539f\u56fe\u51fa\u5904"},"dateRangeSelector":{"daysBetween":"\u9009\u62e9\u8d77\u59cb\u4e0e\u7ed3\u675f\u65e5\u671f"},"dateSelector":{"selectedDay":"\u9009\u5b9a\u65e5\u671f","earlier":"\u2190 \u4e0a\u4e00\u4e2a","next":"\u4e0b\u4e00\u4e2a \u2192"},"faceIdentity":{"faceIdentifications":"\u4eba\u8138\u8bc6\u522b","faceIdentificationsFooter":"\u4eba\u8138\u8bc6\u522b\u7ed3\u679c\u975e\u53ef\u4fe1\uff0c\u4ec5\u4f9b\u53c2\u8003","tryFaceDetectionAgain":"\u518d\u6b21\u5bf9\u6b64\u56fe\u7247\u5c1d\u8bd5\u68c0\u6d4b\uff1f"},"instances":{"runningInstances":"\u8fd0\u884c\u7a0b\u5e8f","process":"\u8fdb\u7a0b","aliveCheck":"\u8fd0\u884c\u68c0\u6d4b","started":"\u59cb\u4e8e"},"labels":{"labelViewer":"\u7c7b\u522b\u4e00\u89c8","noLabelSelected":"\u65e0\u9009\u5b9a\u7c7b\u522b","selectedLabel":"\u9009\u5b9a {{label}} \u7c7b\u522b","activityBtn":"\u6d3b\u52a8\u60c5\u51b5","activityForSelectedDate":"\u9009\u5b9a\u65e5\u671f\u7684\u6d3b\u52a8\u60c5\u51b5","showingActivityStartOfDay":"\u4ee5\u9009\u5b9a\u65e5\u671f\u4e3a\u5f00\u59cb\u663e\u793a\u6d3b\u52a8\u60c5\u51b5","srImage":"\u7ecf\u8d85\u5206\u8fa8\u7387\u5904\u7406\u7684\u56fe\u7247","standardImage":"\u6807\u51c6\u539f\u56fe"}},"plates":{"cars":{"unknownCars":"\u672a\u77e5\u8f66\u8f86","byDefaultDescription":"\u9ed8\u8ba4\u4ec5\u52a0\u8f7d\u4eca\u65e5\u8f66\u8f86\u56fe\u7247\uff0c\u9009\u62e9\u65f6\u95f4\u6bb5\u52a0\u8f7d\u66f4\u591a","requireAttentionDescription":"\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u8f66\u8f86\u9700\u8981\u6dfb\u52a0\u4fe1\u606f","addNewPlate":"\u6dfb\u52a0\u8f66\u724c","addNewPlateDescription":"\u57fa\u4e8e\u68c0\u6d4b\u6dfb\u52a0\u8f66\u724c\u3002 \u66f4\u6b63\u56fe\u7247\u4e2d\u8f66\u724c\u3002 \u8f66\u724c\u4e2d \\"-\\" \u5b57\u7b26\u53ef\u6709\u53ef\u65e0\u3002"},"owners":{"vehicleOwners":"\u8f66\u8f86\u4e3b\u4eba","searchFilter":"\u9009\u62e9\u8fc7\u6ee4","addPlate":"\u6dfb\u52a0\u8f66\u724c","plate":"\u8f66\u724c","owner":"\u4e3b\u4eba","actions":"\u52a8\u4f5c\u9009\u9879","vehicleCount":"\u8f66\u8f86\u6570: {{count}}","edit":"\u7f16\u8f91","remove":"\u79fb\u9664","editExistingPlate":"\u7f16\u8f91\u5df2\u6709\u8f66\u724c","editPlateDescription":"\u4f60\u6b63\u5728\u7f16\u8f91\u5df2\u6709\u8f66\u724c. \u8f66\u724c\u4e2d \\"-\\" \u5b57\u7b26\u53ef\u6709\u53ef\u65e0\u3002"}},"faces":{"earlier":"\u2190 \u4e0a\u4e00\u4e2a","next":"\u4e0b\u4e00\u4e2a \u2192","modalOriginalImageDescription":"\u663e\u793a\u8be5\u9762\u5b54\u539f\u56fe\u51fa\u5904"},"training":{"personTraining":{"title":"\u4eba\u7269\u5206\u7c7b\u4e0e\u8bad\u7ec3","clickImageDescription":"\u70b9\u51fb\u6539\u56fe\u7136\u540e\u9009\u62e9\u56fe\u4e2d\u4eba\u7269\u662f\u8c01. \u8fd9\u5c06\u7528\u4e8e\u7f51\u7edc\u8bad\u7ec3\u3002","trainModel":"\u6a21\u578b\u8bad\u7ec3","loadMore":"\u52a0\u8f7d\u66f4\u591a","deleteAllVisible":"\u5220\u9664\u4ee5\u4e0a\u56fe\u7247"},"plateTraining":{"plateTraining":"\u8f66\u724c\u68c0\u6d4b\u8bad\u7ec3","plateTrainingDescription":"\u8f66\u724c\u68c0\u6d4b\u8bad\u7ec3\u4ec5\u53ef\u7528\u4e8e\u65e7\u7248jQuery. \u8bf7\u70b9\u51fb\u4e00\u4e0b\u94fe\u63a5\u3002","openPlateTraining":"\u6253\u5f00\u8f66\u724c\u68c0\u6d4b\u8bad\u7ec3"}},"activityModal":{"hourDataSet":"24\u5c0f\u65f6\u6570\u636e\u5e93"},"genericImageModal":{"srVersion":"\u8d85\u5206\u8fa8\u7387\u6a21\u5f0f","normalVersion":"\u666e\u901a\u6a21\u5f0f"},"plateEditModal":{"licencePlate":"\u8f66\u724c","ownerName":"\u4e3b\u4eba\u540d\u5b57","inputDescription":"\u65e0\\"-\\"\u8f93\u5165, \u4f8b\u5982:ABC123","ownerNameInputHelp":"\u7ed9\u51fa\u4e3b\u4eba\u5168\u540d"}}')},125:function(e,t,a){e.exports={Cameras:"Cameras_Cameras__9f3Tt"}},128:function(e,t,a){e.exports={SpinnerDiv:"LoadingIndicator_SpinnerDiv__NFW36"}},130:function(e,t,a){e.exports={zoom:"FaceIdentity_zoom__1DJSV"}},131:function(e,t,a){e.exports={zoom:"Cars_zoom__2vehQ"}},139:function(e,t,a){e.exports=a(276)},144:function(e,t,a){},145:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),l=a.n(i),s=(a(144),a(9)),c=a(10),o=a(12),u=a(11),d=(a(145),a(289)),m=a(291),p=a(288),h=a(76),g=a.n(h),f=a(35),v=a(290),E=a(117),b=a(118),D=a(119),y=function(e){localStorage.setItem("LANGUAGE_KEY",e)},w={interpolation:{escapeValue:!1},lng:localStorage.getItem("LANGUAGE_KEY")||"en",resources:{en:{i18n:E},fi:{i18n:b},cn:{i18n:D}}},k=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activeLink:"/"},e.setActiveLinkHandler=function(t){e.setState({activeLink:t})},e.setCurrentPath=function(){try{var t=window.location.href.split("/"),a="/"+t[t.length-1];console.log(a),e.setState({activeLink:a})}catch(n){console.error(n)}},e.setLanguageHandler=function(e,t){y(t),e.changeLanguage(t).then((function(){return null}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setCurrentPath()}},{key:"render",value:function(){var e=this,t=this.props.i18n,a=this.props.t,n=["nav-link",g.a.Link];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(d.a.Brand,{className:g.a.NavbarBrand},r.a.createElement("img",{alt:"Open-Intelligence Logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACHklEQVR4Ae3WAWTjUBjA8UNRFMVQFMUwHIahCI7hMBTFUBTDYQiG4RAUBRSHAIaiKIrhAFAURVAURREERVAMRe+PfTzP+faSJsy2Pz9M0rcvSdPk26foq+PxeIkBZlhi+2qOKR5xXvYQVfiI4doa/TKG6WCDvEXwihpmALsdntBFG61XHnqYYA+zA+5OGaSCKcwS3KPieIkDpDAb5h1oCLNn1HOs08QCZndZF7mF2QiVE2+IqXX5vCwfTiDNCrxLF5Ai1w8GkLaoFXi3NpFC6r99FMoH+PsBEUK0lHW+Y4IF+soBr98a6BrSxtrWhlmorPMX0gFN66D3kM61gUJIQ2ubD7OVsk4Ks661fQLpURtoCcmztjVwgPSgrPMH0g5Va3sP0lQbKIYkp9keykfb4Qv8E79Q/882D9JcW4SISn5QtyBt38NATUixtmMCqVHiQG1IC23HCNJViQN1Ic20HZ8gBcoPWtZ6+v/RX8SkyNpWR4ysLezXGuwgXWoD1fAC6ca+XbGHawkurDXuIcUu13cEaYWK/YLveKbWaNlnGQkk32WgOlJIofLCn8Auxm9U7UuFZ0gb/R1Lf275yr5n8PADFw5nXupkvTXHMAv1I1K/lzOYBXnf8OYwW+Emwxp9bGE2OfW1cwy7CAGu0LAeCR6G2MBuUNQvq48UeUtwW/TP/RlGeIFrKQJUy3xS19DBGBF2kGIsEeJaBvnqQ/cPDxGlXpRi3oIAAAAASUVORK5CYII=",width:"36",height:"36",className:"d-inline-block align-top"})," ",r.a.createElement("span",{className:g.a.NavbarBrand},"Open-Intelligence")),r.a.createElement(d.a.Toggle,{"aria-controls":"navbarSupportedContent"}),r.a.createElement(d.a.Collapse,{id:"navbarSupportedContent"},r.a.createElement(m.a,{className:"mr-auto"},"/"!==this.state.activeLink?r.a.createElement(f.b,{className:n.join(" "),to:"/",onClick:function(){return e.setActiveLinkHandler("/")}},a("navbar.home")):r.a.createElement("span",{className:"mt-2"},a("navbar.home")),"/cameras"!==this.state.activeLink?r.a.createElement(f.b,{className:n.join(" "),to:"/cameras",onClick:function(){return e.setActiveLinkHandler("/cameras")}},a("navbar.cameras")):r.a.createElement("span",{className:"mt-2"},a("navbar.cameras")),"/plates"!==this.state.activeLink?r.a.createElement(f.b,{className:n.join(" "),to:"/plates",onClick:function(){return e.setActiveLinkHandler("/plates")}},a("navbar.plates")):r.a.createElement("span",{className:"mt-2"},a("navbar.plates")),"/faces"!==this.state.activeLink?r.a.createElement(f.b,{className:n.join(" "),to:"/faces",onClick:function(){return e.setActiveLinkHandler("/faces")}},a("navbar.faces")):r.a.createElement("span",{className:"mt-2"},a("navbar.faces")),"/training"!==this.state.activeLink?r.a.createElement(f.b,{className:n.join(" "),to:"/training",onClick:function(){return e.setActiveLinkHandler("/training")}},a("navbar.training")):r.a.createElement("span",{className:"mt-2"},a("navbar.training"))),r.a.createElement(m.a,null,r.a.createElement(p.a,{title:a("navbar.changeLanguage"),id:"lang-dropdown"},r.a.createElement(p.a.Item,{onClick:function(){return e.setLanguageHandler(t,"en")}},"English"),r.a.createElement(p.a.Item,{onClick:function(){return e.setLanguageHandler(t,"fi")}},"Finnish"),r.a.createElement(p.a.Item,{onClick:function(){return e.setLanguageHandler(t,"cn")}},"Chinese"))))))}}]),a}(n.Component),I=Object(v.a)("i18n")(k),N=a(15),O=a(125),j=a.n(O),x=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},S=function(){return function(e){var t,a=localStorage.getItem("token");if(a){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)e(x());else e(function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}}(a,0|Number(localStorage.getItem("userId")))),e((t=(n.getTime()-(new Date).getTime())/1e3,function(e){setTimeout((function(){e(x())}),1e3*t)}))}else e(x())}},C=a(17),M=a(127),H=a.n(M).a.create({}),A="http://192.168.2.35:4300/",L=A+"manage/licence/plates",R=A+"get/faces",P=a(281),_=a(128),T=a.n(_),F=function(e){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{style:{width:"64px",height:"64px"},className:"text-center"},r.a.createElement(P.a,{style:{width:"32px",height:"32px"},animation:"grow",variant:e.isDark?"dark":"light",className:T.a.SpinnerDiv})))},B=a(3),G=a.n(B),U=a(7),V=a(63);function W(e){return z.apply(this,arguments)}function z(){return(z=Object(U.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,H.post("http://192.168.2.35:4300/get/object/detection/image/for/cropped/image",{croppedImageName:t});case 3:return n=e.sent,a.file_name=n.data.file_name,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(U.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).file_name=t,e.next=4,H.post("http://192.168.2.35:4300/get/object/detection/image",{objectDetectionImageFileName:t});case 4:return n=e.sent,a.data=n.data.data,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return X.apply(this,arguments)}function X(){return(X=Object(U.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("http://192.168.2.35:4300/get/intelligence",{selectedDate:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return q.apply(this,arguments)}function q(){return(q=Object(U.a)(G.a.mark((function e(t,a){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("http://192.168.2.35:4300/get/label/images",{selectedDate:t,label:a});case 2:return n=e.sent,e.abrupt("return",n.data.images);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return $.apply(this,arguments)}function $(){return($=Object(U.a)(G.a.mark((function e(t,a){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("http://192.168.2.35:4300/get/super/resolution/image",{label:t,imageFile:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("http://192.168.2.35:4300/get/instance/details");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(U.a)(G.a.mark((function e(t,a){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("http://192.168.2.35:4300/get/calendar/events",{dateRangeStartDate:t,dateRangeEndDate:a});case 2:return n=e.sent,e.abrupt("return",n.data.events);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return ie.apply(this,arguments)}function ie(){return(ie=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("http://192.168.2.35:4300/get/licence/plates");case 2:return t=e.sent,e.abrupt("return",t.data.plates);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t,a){return se.apply(this,arguments)}function se(){return(se=Object(U.a)(G.a.mark((function e(t,a,n){var r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post(L,{licence_plate:t,owner_name:a,data_id:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(U.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.delete(L+"/"+t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t,a){return de.apply(this,arguments)}function de(){return(de=Object(U.a)(G.a.mark((function e(t,a,n){var r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.put(L,{id:t,licence_plate:a,owner_name:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t,a,n){return pe.apply(this,arguments)}function pe(){return(pe=Object(U.a)(G.a.mark((function e(t,a,n,r){var i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("http://192.168.2.35:4300/get/license/plate/detections",{resultOption:t,selectedDate:a,selectedDateStart:n,selectedDateEnd:r});case 2:return i=e.sent,e.abrupt("return",i.data.licensePlates);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return ge.apply(this,arguments)}function ge(){return(ge=Object(U.a)(G.a.mark((function e(){var t,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("http://192.168.2.35:4300/get/face/grouping/images");case 2:return t=e.sent,(a={}).names=t.data.names,a.images=t.data.images,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(U.a)(G.a.mark((function e(t,a){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("http://192.168.2.35:4300/move/face/grouping/image",{name:t,rectFileName:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return be.apply(this,arguments)}function be(){return(be=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("http://192.168.2.35:4300/train/face/model");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(U.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post(R,{selectedDate:t});case 2:return a=e.sent,e.abrupt("return",a.data.faces);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(U.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("http://192.168.2.35:4300/try/face/detection/again",{id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(U.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("http://192.168.2.35:4300/reject/licence/plate/detection",{data_id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=function(){return(new Date).toISOString().substr(0,10)},je=function(e,t){var a=new Date(e);return a.setDate(a.getDate()+t),a.toISOString().substr(0,10)},xe=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e))._isMounted=void 0,n.state={hasPermission:!0,notificationsEnabled:!0,resultOption:"distinct_detection",lastLicensePlate:"",intervalId:0},n.checkPermission=function(){var e=Object(V.a)(n);"granted"===Notification.permission?n.setState({hasPermission:!0}):"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){"granted"===t&&e.setState({hasPermission:!0})}))},n.notificationHandler=function(e){n.state.hasPermission&&new Notification(e)},n._isMounted=!1,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.checkPermission();var t=setInterval((function(){return e.getLastSeenLicensePlate()}),6e4);this.setState({intervalId:t})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId),this._isMounted=!1}},{key:"getLastSeenLicensePlate",value:function(){var e=Object(U.a)(G.a.mark((function e(){var t,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.hasPermission||!this.state.notificationsEnabled){e.next=5;break}return e.next=3,me(this.state.resultOption,Oe(),"","");case 3:(t=e.sent).length>0&&(a=t[t.length-1],Date.parse(a.title)<Date.now()-36e5||this.state.lastLicensePlate!==a.detectionCorrected&&(this.setState({lastLicensePlate:a.detectionCorrected}),this.notificationHandler(a.detectionCorrected+" - "+a.ownerName+" seen "+a.title)));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),Se=Object(v.a)("i18n")(xe),Ce=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e))._isMounted=void 0,n.state={windowWidth:window.innerWidth,imageData:[],intervalId:0,isLoading:!0},n.loadCameraImages=function(){H.post("http://192.168.2.35:4300/get/latest/camera/images").then((function(e){n._isMounted&&n.setState({imageData:e.data.images,isLoading:!1})})).catch((function(e){console.error(e)}))},n.handleResize=function(){n.setState({windowWidth:window.innerWidth})},n._isMounted=!1,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,window.addEventListener("resize",this.handleResize),this.loadCameraImages();var t=setInterval((function(){return e.loadCameraImages()}),6e4);this.setState({intervalId:t})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId),this._isMounted=!1,window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=[r.a.createElement("div",{key:"null"})],t=this.state.windowWidth/2,a=50*t/100;return void 0!==this.state.imageData&&this.state.imageData.length>0&&(e=this.state.imageData.map((function(e){return r.a.createElement("img",{id:e.id,title:e.name+" "+new Date(e.file_create_date).toDateString(),className:"CursorPointer magictime vanishIn",style:{width:t,height:a},key:e.id,src:e.image,alt:e.file_name})}))),r.a.createElement("div",null,r.a.createElement(Se,null),r.a.createElement("div",{className:["d-flex","justify-content-center","flex-wrap"].join(" ")},e),this.state.isLoading?r.a.createElement(F,null):null)}}]),a}(n.Component),Me=a(292),He=a(282),Ae=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={instances:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadInstanceDetails().then((function(){return null}))}},{key:"loadInstanceDetails",value:function(){var e=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:t=e.sent,this.setState({instances:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.t,t=[];return void 0!==this.state.instances&&this.state.instances.length>0&&(t=this.state.instances.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.process_name),r.a.createElement("td",null,e.updatedAt),r.a.createElement("td",null,e.createdAt))}))),r.a.createElement("div",null,r.a.createElement(Me.a,{bg:"dark",text:"light"},r.a.createElement(Me.a.Header,null,e("home.instances.runningInstances")),r.a.createElement(Me.a.Body,{style:{padding:"0px"}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement(He.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{minWidth:"650px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,e("home.instances.process")),r.a.createElement("th",null,e("home.instances.aliveCheck")),r.a.createElement("th",null,e("home.instances.started")))),r.a.createElement("tbody",null,t))))))}}]),a}(n.Component),Le=Object(v.a)("i18n")(Ae),Re=a(283),Pe=a(121),_e=a(72),Te=a(287),Fe=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{size:"lg",show:e.show,onHide:e.closeHandler()},r.a.createElement(Te.a.Header,{closeButton:!0},r.a.createElement(Te.a.Title,null,r.a.createElement("h5",null,e.title))),r.a.createElement(Te.a.Body,null,r.a.createElement("p",{className:"text-muted mb-2"},e.description),e.showBadges?r.a.createElement("div",{className:"d-flex flex-row bd-highlight mb-2"},r.a.createElement("div",{className:"bd-highlight"},r.a.createElement("span",{className:"badge badge-warning"},e.srImage?e.t("genericImageModal.srVersion"):e.t("genericImageModal.normalVersion"))),r.a.createElement("div",{className:"ml-2 bd-highlight"},r.a.createElement("span",{className:"badge badge-info"},e.detectionResult)),r.a.createElement("div",{className:"ml-2 bd-highlight"},r.a.createElement("span",{className:"badge badge-secondary"},e.color)),r.a.createElement("div",{className:"ml-2 bd-highlight"},r.a.createElement("span",{className:"badge badge-dark"},e.additionalInfo))):null,r.a.createElement("img",{className:"card-img-right",style:{width:"100%",height:"100%"},alt:"genericModalImage",src:e.src})),r.a.createElement(Te.a.Footer,null,r.a.createElement(Pe.a,{variant:"secondary",onClick:e.closeHandler()},e.t("generic.close")))))},Be=function(e){if(void 0===e.chartData)return r.a.createElement(r.a.Fragment,null);var t=[],a=[];e.chartData.forEach((function(e){t.push(e.h),a.push(e.a)}));var n={labels:t,datasets:[{label:e.t("activityModal.hourDataSet"),fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:a}]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{size:"lg",show:e.show,onHide:e.closeHandler()},r.a.createElement(Te.a.Header,{closeButton:!0},r.a.createElement(Te.a.Title,null,r.a.createElement("h5",null,e.title))),r.a.createElement(Te.a.Body,null,r.a.createElement("p",{className:"text-muted mb-2"},e.description),r.a.createElement(_e.Line,{data:n})),r.a.createElement(Te.a.Footer,null,r.a.createElement(Pe.a,{variant:"secondary",onClick:e.closeHandler()},e.t("generic.close")))))},Ge=null,Ue=!1,Ve=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={selectedDate:null,isLoading:!0,labelSelection:null,instanceCount:0,storageUse:"N/A GB",labelDonutData:{},labelImages:[],genericImageModalData:{show:!1},activityModal:{show:!1},activityChartData:[]},e.onDonutElementClickHandler=function(t){if(void 0!==t&&t.length>0){var a=t[0]._index,n=e.state.labelDonutData.labels[a];e.setState({isLoading:!0,labelSelection:n}),e.loadLabelImagesHandler(e.props.selectedDate,n).then((function(){return null}))}},e.genericImageModalCloseHandler=function(){e.setState({genericImageModalData:{show:!1}})},e.activityModalCloseHandler=function(){e.setState({activityModal:{show:!1}})},e.handleLabelMouseDown=function(t){Ge=setTimeout((function(){console.log("Mouse long click run"),e.labelImageClickHandler(t,!0).then((function(){return null})),Ue=!0}),1e3)},e.handleLabelMouseUp=function(t){clearTimeout(Ge),Ue||(console.log("Mouse short click run"),e.labelImageClickHandler(t,!1).then((function(){return null}))),Ue=!1},e.showActivityModalHandler=function(){e.setState({activityModal:{show:!0,title:e.props.t("home.labels.activityForSelectedDate"),description:e.props.t("home.labels.showingActivityStartOfDay"),chartData:e.state.activityChartData}})},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){this.state.selectedDate!==this.props.selectedDate&&this.loadIntelligence(this.props.selectedDate).then((function(){return null}))}},{key:"componentDidMount",value:function(){this.loadIntelligence(this.props.selectedDate).then((function(){return null}))}},{key:"loadIntelligence",value:function(){var e=Object(U.a)(G.a.mark((function e(t){var a,n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:a=e.sent,(n={}).labels=[],n.datasets=[],r={data:[],backgroundColor:[],hoverBackgroundColor:[]},a.donut.forEach((function(e){n.labels.push(e.label),r.data.push(e.value),r.backgroundColor.push("#13697d"),r.hoverBackgroundColor.push("#1698af")})),n.datasets.push(r),this.setState({selectedDate:t,isLoading:!1,instanceCount:a.performance.instanceCount,storageUse:a.performance.storageUse,labelDonutData:n,activityChartData:a.activity.data});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadLabelImagesHandler",value:function(){var e=Object(U.a)(G.a.mark((function e(t,a){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,a);case 2:n=e.sent,this.setState({isLoading:!1,labelImages:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"labelImageClickHandler",value:function(){var e=Object(U.a)(G.a.mark((function e(t,a){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoading:!0}),a?this.loadObjectDetectionImageHandler(t).then((function(){return null})):this.loadSuperResolutionImage(t).then((function(){return null}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadObjectDetectionImageHandler",value:function(){var e=Object(U.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,W(t);case 3:return a=e.sent,e.next=6,K(a.file_name);case 6:n=e.sent,this.setState({isLoading:!1,genericImageModalData:{show:!0,title:n.file_name,description:"Full object detection image for selected label where label is originating",src:n.data}});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadSuperResolutionImage",value:function(){var e=Object(U.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,Z(this.state.labelSelection||"",t);case 3:a=e.sent,this.setState({isLoading:!1,genericImageModalData:{show:!0,title:t,description:a.srImage?this.props.t("home.labels.srImage"):this.props.t("home.labels.standardImage"),src:a.data,showBadges:!0,srImage:a.srImage,detectionResult:a.detectionResult,color:a.color}});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=[];return void 0!==this.state.labelImages&&this.state.labelImages.length>0&&(a=this.state.labelImages.map((function(t){return r.a.createElement("div",{onMouseDown:function(){return e.handleLabelMouseDown(t.file)},onMouseUp:function(){return e.handleLabelMouseUp(t.file)},key:t.file},r.a.createElement("img",{id:t.file,title:t.title,className:"CursorPointer mr-1 ml-1 mt-1 magictime vanishIn",style:{maxHeight:"120px",maxWidth:"120px",width:"auto",height:"auto"},key:t.file,src:t.image,alt:t.file}))}))),r.a.createElement("div",null,r.a.createElement(Me.a,{bg:"Light",text:"dark"},r.a.createElement(Me.a.Header,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("b",null,t("home.labels.labelViewer"))),r.a.createElement("div",{className:"col-sm text-right"},r.a.createElement(Re.a,{variant:"dark",className:"mr-2"},"IC",this.state.instanceCount),r.a.createElement(Re.a,{variant:"dark"},"STR ",this.state.storageUse)))),r.a.createElement(Me.a.Body,null,r.a.createElement("div",{style:{height:"300px"}},void 0!==this.state.labelDonutData.datasets?r.a.createElement(_e.Doughnut,{onElementsClick:function(t){return e.onDonutElementClickHandler(t)},data:this.state.labelDonutData,height:300,options:{maintainAspectRatio:!1}}):this.state.isLoading?r.a.createElement(F,{isDark:!0}):null),r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap mt-4"},a)),r.a.createElement(Me.a.Footer,null,r.a.createElement("small",{className:"text-muted"},null===this.state.labelSelection?t("home.labels.noLabelSelected"):t("home.labels.selectedLabel",{label:this.state.labelSelection})),r.a.createElement(Pe.a,{onClick:function(){return e.showActivityModalHandler()},className:"float-right",variant:"outline-dark",size:"sm"},t("home.labels.activityBtn")))),this.state.isLoading?r.a.createElement(F,{isDark:!1}):null,r.a.createElement(Fe,{t:t,closeHandler:function(){return e.genericImageModalCloseHandler},show:this.state.genericImageModalData.show,description:this.state.genericImageModalData.description,src:this.state.genericImageModalData.src,title:this.state.genericImageModalData.title,showBadges:this.state.genericImageModalData.showBadges,srImage:this.state.genericImageModalData.srImage,detectionResult:this.state.genericImageModalData.detectionResult,color:this.state.genericImageModalData.color,additionalInfo:this.state.genericImageModalData.additionalInfo}),r.a.createElement(Be,{t:t,show:this.state.activityModal.show,title:this.state.activityModal.title,description:this.state.activityModal.description,closeHandler:function(){return e.activityModalCloseHandler},chartData:this.state.activityModal.chartData}))}}]),a}(n.Component),We=Object(C.b)((function(e){return{selectedDate:e.dateReducer.selectedDate}}))(Object(v.a)("i18n")(Ve)),ze=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.t;return r.a.createElement("div",null,r.a.createElement("div",{className:""},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},t("home.dateSelector.selectedDay"))),r.a.createElement("input",{id:"selected_day_field",type:"date",className:"form-control",placeholder:"Change day","aria-label":"Day change",value:this.props.selectedDate,onChange:function(t){return e.props.onDateSelected(t)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-info",type:"button",onClick:this.props.onDecrementDay},t("home.dateSelector.earlier")),r.a.createElement("button",{className:"btn btn-outline-info",type:"button",onClick:this.props.onIncrementDay},t("home.dateSelector.next"))))))}}]),a}(n.Component),Ke=Object(C.b)((function(e){return{selectedDate:e.dateReducer.selectedDate}}),(function(e){return{onIncrementDay:function(){return e({type:"INCREMENT_DAY",days:1})},onDecrementDay:function(){return e({type:"DECREMENT_DAY",days:-1})},onDateSelected:function(t){return e({type:"CALENDAR_SELECTION",calendar:t})}}}))(Object(v.a)("i18n")(ze)),Qe=a(134),Ye=a(74),Xe=a(136),Je=a(137),qe=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.t;return r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},t("home.dateRangeSelector.daysBetween"))),r.a.createElement("input",{type:"date",className:"form-control",placeholder:"Change day","aria-label":"Day change",value:this.props.dateRangeStartDate,onChange:function(t){return e.props.onDateRangeStartDateSelected(t)}}),r.a.createElement("input",{type:"date",className:"form-control",placeholder:"Change day","aria-label":"Day change",value:this.props.dateRangeEndDate,onChange:function(t){return e.props.onDateRangeEndDateSelected(t)}})))}}]),a}(n.Component),Ze=Object(C.b)((function(e){return{dateRangeStartDate:e.dateReducer.dateRangeStartDate,dateRangeEndDate:e.dateReducer.dateRangeEndDate}}),(function(e){return{onDateRangeStartDateSelected:function(t){return e({type:"DATE_RANGE_START_DATE_SELECTED",calendar:t})},onDateRangeEndDateSelected:function(t){return e({type:"DATE_RANGE_END_DATE_SELECTED",calendar:t})}}}))(Object(v.a)("i18n")(qe)),$e=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={dateRangeStartDate:null,dateRangeEndDate:null,calendarWeekends:!0,calendarEvents:[],genericImageModalData:{show:!1}},e.calendarComponentRef=r.a.createRef(),e.handleDateClick=function(e){},e.handleEventClick=function(t){var a=t.event.title,n=t.event.extendedProps.file_name_cropped,r=t.event.extendedProps.description;e.loadObjectDetectionImageHandler(n,a,r).then((function(){return null}))},e.genericImageModalCloseHandler=function(){e.setState({genericImageModalData:{show:!1}})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadCalendarEvents().then((function(){return null}))}},{key:"componentDidUpdate",value:function(e,t,a){this.state.dateRangeStartDate===this.props.dateRangeStartDate&&this.state.dateRangeEndDate===this.props.dateRangeEndDate||this.loadCalendarEvents().then((function(){return null}))}},{key:"loadCalendarEvents",value:function(){var e=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(this.props.dateRangeStartDate,this.props.dateRangeEndDate);case 2:t=e.sent,this.setState({calendarEvents:t,dateRangeStartDate:this.props.dateRangeStartDate,dateRangeEndDate:this.props.dateRangeEndDate});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t;return r.a.createElement("div",null,r.a.createElement(Me.a,{bg:"Light",text:"dark"},r.a.createElement(Me.a.Header,null,r.a.createElement("b",null,t("home.calendar.vehicle_activity"))),r.a.createElement(Me.a.Body,null,r.a.createElement("div",null,r.a.createElement(Ze,this.props),r.a.createElement(Qe.a,{plugins:[Ye.b,Xe.a,Je.a],ref:this.calendarComponentRef,weekends:this.state.calendarWeekends,events:this.state.calendarEvents,dateClick:this.handleDateClick,eventClick:this.handleEventClick,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"timeGridWeek",height:600})))),r.a.createElement(Fe,{t:t,closeHandler:function(){return e.genericImageModalCloseHandler},show:this.state.genericImageModalData.show,description:this.state.genericImageModalData.description,src:this.state.genericImageModalData.src,title:this.state.genericImageModalData.title,showBadges:this.state.genericImageModalData.showBadges,srImage:this.state.genericImageModalData.srImage,detectionResult:this.state.genericImageModalData.detectionResult,color:this.state.genericImageModalData.color,additionalInfo:this.state.genericImageModalData.additionalInfo}))}},{key:"loadObjectDetectionImageHandler",value:function(){var e=Object(U.a)(G.a.mark((function e(t,a,n){var r,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,W(t);case 3:return r=e.sent,e.next=6,K(r.file_name);case 6:i=e.sent,this.setState({isLoading:!1,genericImageModalData:{show:!0,title:i.file_name,description:this.props.t("home.calendar.originalLicensePlateImage"),src:i.data,showBadges:!0,detectionResult:a,additionalInfo:n}});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),a}(n.Component),et=Object(C.b)((function(e){return{dateRangeStartDate:e.dateReducer.dateRangeStartDate,dateRangeEndDate:e.dateReducer.dateRangeEndDate}}))(Object(v.a)("i18n")($e)),tt=a(130),at=a.n(tt),nt=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={faceDetections:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getFaces().then((function(){return null}))}},{key:"getFaces",value:function(){var e=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(this.props.selectedDate);case 2:t=e.sent,this.setState({faceDetections:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=[];return void 0!==this.state.faceDetections&&this.state.faceDetections.length>0&&(a=this.state.faceDetections.map((function(t){return r.a.createElement("div",{key:t.id,className:at.a.zoom,style:{cursor:"pointer"},onClick:Object(U.a)(G.a.mark((function a(){return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.onFaceClickHandler(t.id);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))},r.a.createElement(Me.a,{style:{maxWidth:"90px"},className:"mr-1 mt-1 ml-1 mb-1"},r.a.createElement(Me.a.Img,{variant:"top",src:t.image,style:{maxHeight:"120px"}}),r.a.createElement(Me.a.Body,{className:"p-2"},r.a.createElement(Me.a.Title,{className:"m-0"},r.a.createElement("small",null,t.detectionResult))),r.a.createElement(Me.a.Footer,{className:"p-2"},r.a.createElement("small",{className:"text-muted"},t.title))))}))),r.a.createElement("div",null,r.a.createElement(Me.a,{bg:"light",text:"dark"},r.a.createElement(Me.a.Header,null,t("home.faceIdentity.faceIdentifications")),r.a.createElement(Me.a.Body,{style:{padding:"0px"}},r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap"},a)),r.a.createElement(Me.a.Footer,{className:"p-2"},r.a.createElement("small",{className:"text-muted"},t("home.faceIdentity.faceIdentificationsFooter")))))}},{key:"onFaceClickHandler",value:function(){var e=Object(U.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(this.props.t("home.faceIdentity.tryFaceDetectionAgain"))){e.next=5;break}return e.next=3,we(t);case 3:a=e.sent,alert(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),rt=Object(C.b)((function(e){return{selectedDate:e.dateReducer.selectedDate}}))(Object(v.a)("i18n")(nt)),it=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(Ke,this.props)),r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(We,this.props)),r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(et,this.props)),r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(Le,null)),r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(rt,this.props)))}}]),a}(n.Component),lt=Object(C.b)((function(e){return{selectedDate:e.dateReducer.selectedDate}}))(it),st=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e))._isMounted=void 0,n.state={selectedDay:(new Date).toISOString().substr(0,10),faceImages:[],intervalId:0,genericImageModalData:{show:!1},isLoading:!0},n.loadEarlierDayHandler=function(){var e=new Date(n.state.selectedDay);e.setDate(e.getDate()-1);var t=e.toISOString().substr(0,10);n.setSelectedDay(t)},n.loadNextDayHandler=function(){var e=new Date(n.state.selectedDay);e.setDate(e.getDate()+1);var t=e.toISOString().substr(0,10);n.setSelectedDay(t)},n.setSelectedDay=function(e){n.setState({selectedDay:e}),n.loadFaceImages(e)},n.loadFaceImages=function(e){H.post("http://192.168.2.35:4300/get/faces/for/day",{selectedDate:e}).then((function(e){n._isMounted&&n.setState({faceImages:n.removeDuplicates(e.data.images),isLoading:!1})})).catch((function(e){console.error(e)}))},n.removeDuplicates=function(e){return e.filter((function(e,t,a){return a.findIndex((function(t){return t.file===e.file}))===t}))},n.genericImageModalCloseHandler=function(){n.setState({genericImageModalData:{show:!1}})},n._isMounted=!1,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.loadFaceImages(this.state.selectedDay);var t=setInterval((function(){return e.loadFaceImages(e.state.selectedDay)}),6e4);this.setState({intervalId:t})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId),this._isMounted=!1}},{key:"loadObjectDetectionImageHandler",value:function(){var e=Object(U.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,W(t);case 3:return a=e.sent,e.next=6,K(a.file_name);case 6:n=e.sent,this.setState({isLoading:!1,genericImageModalData:{show:!0,title:n.file_name,description:this.props.t("faces.modalOriginalImageDescription"),src:n.data,showBadges:!1}});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=[];return void 0!==this.state.faceImages&&this.state.faceImages.length>0&&(a=this.state.faceImages.map((function(t){return r.a.createElement("img",{id:t.file,title:t.title,className:"CursorPointer mr-1 ml-1 mt-1 magictime spaceInLeft",style:{maxHeight:"120px",maxWidth:"120px"},key:t.file,src:t.image,alt:t.file,onClick:Object(U.a)(G.a.mark((function a(){return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.loadObjectDetectionImageHandler(t.file);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))})}))),r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap mb-2 magictime spaceInLeft"},r.a.createElement("div",{className:"input-group mb-2",style:{maxWidth:"300px"}},r.a.createElement("input",{type:"text",style:{backgroundColor:"#343a40",color:"#999999"},disabled:!0,className:"form-control",value:this.state.selectedDay}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-info",type:"button",onClick:this.loadEarlierDayHandler},t("faces.earlier")),r.a.createElement("button",{className:"btn btn-outline-info",type:"button",onClick:this.loadNextDayHandler},t("faces.next"))))),r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap"},a),r.a.createElement(Fe,{t:t,closeHandler:function(){return e.genericImageModalCloseHandler},show:this.state.genericImageModalData.show,description:this.state.genericImageModalData.description,src:this.state.genericImageModalData.src,title:this.state.genericImageModalData.title,showBadges:this.state.genericImageModalData.showBadges,srImage:this.state.genericImageModalData.srImage,detectionResult:this.state.genericImageModalData.detectionResult,color:this.state.genericImageModalData.color,additionalInfo:this.state.genericImageModalData.additionalInfo}),this.state.isLoading?r.a.createElement(F,{isDark:!1}):null)}}]),a}(n.Component),ct=Object(v.a)("i18n")(st),ot=a(14),ut=a(131),dt=a.n(ut),mt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{size:"lg",show:e.show,onHide:e.closeHandler()},r.a.createElement(Te.a.Header,{closeButton:!0},r.a.createElement(Te.a.Title,null,r.a.createElement("h5",null,e.title))),r.a.createElement(Te.a.Body,null,r.a.createElement("p",{className:"text-muted mb-2"},e.description),void 0!==e.imageData?r.a.createElement("img",{src:e.imageData,alt:e.title}):null,r.a.createElement("form",{className:"mt-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"new_plate_licence_plate"},e.t("plateEditModal.licencePlate")),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.licencePlate,onChange:function(t){return e.lpOnChange(t.target.value)}}),r.a.createElement("small",{className:"form-text text-muted"},e.t("plateEditModal.inputDescription"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"new_plate_owner_name"},e.t("plateEditModal.ownerName")),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.ownerName,onChange:function(t){return e.ownerOnChange(t.target.value)}}),r.a.createElement("small",{className:"form-text text-muted"},e.t("plateEditModal.ownerNameInputHelp"))))),r.a.createElement(Te.a.Footer,null,e.showReject?r.a.createElement(Pe.a,{variant:"danger",onClick:function(){return e.rejectHandler(e)}},e.t("generic.reject")):null,r.a.createElement(Pe.a,{variant:"primary",onClick:function(){return e.saveHandler(e)}},e.t("generic.save")),r.a.createElement(Pe.a,{variant:"secondary",onClick:e.closeHandler()},e.t("generic.close")))))},pt=function(e){return e.replace("-","").replace(" ","")},ht=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,today:Oe(),resultOption:"owner_detail_needed",totalPlates:0,licensePlateDetections:[],plateEditModalData:{show:!1},dateRangeStartDate:null,dateRangeEndDate:null},e.plateEditModalCloseHandler=function(){e.setState({plateEditModalData:{show:!1}})},e.plateEditModalSaveHandler=function(t){le(t.licencePlate,t.ownerName,Number(t.id)).then((function(t){e.plateEditModalCloseHandler()})).catch((function(t){alert(t.response.data),e.plateEditModalCloseHandler()})).finally((function(){e.setState({licensePlateDetections:e.state.licensePlateDetections.filter((function(e){return String(e.id)!==t.id}))})}))},e.plateRejectHandler=function(t){Ie(Number(t.id)).then((function(a){e.plateEditModalCloseHandler(),e.setState({licensePlateDetections:e.state.licensePlateDetections.filter((function(e){return String(e.id)!==t.id}))})})).catch((function(t){alert(t.response.data),e.plateEditModalCloseHandler()}))},e.addNewPlateHandler=function(t){e.setState({plateEditModalData:{show:!0,title:e.props.t("plates.cars.addNewPlate"),description:e.props.t("plates.cars.addNewPlateDescription"),id:String(t.id),licencePlate:t.detectionResult,ownerName:"",imageData:t.image}})},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){this.state.dateRangeStartDate===this.props.dateRangeStartDate&&this.state.dateRangeEndDate===this.props.dateRangeEndDate||this.loadLicensePlateDetections(this.props.dateRangeStartDate,this.props.dateRangeEndDate).then((function(){return null}))}},{key:"componentDidMount",value:function(){this.loadLicensePlateDetections(this.state.today,this.state.today).then((function(){return null}))}},{key:"loadLicensePlateDetections",value:function(){var e=Object(U.a)(G.a.mark((function e(t,a){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(this.state.resultOption,"",t,a);case 2:n=e.sent,this.setState({dateRangeStartDate:t,dateRangeEndDate:a,licensePlateDetections:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=[];return void 0!==this.state.licensePlateDetections&&this.state.licensePlateDetections.length>0&&(a=this.state.licensePlateDetections.map((function(t){return r.a.createElement("div",{key:t.file,className:dt.a.zoom,style:{cursor:"pointer"},onClick:function(){return e.addNewPlateHandler(t)}},r.a.createElement(Me.a,{style:{maxWidth:"160px"},className:"mr-1 mt-1 ml-1 mb-1"},r.a.createElement(Me.a.Img,{variant:"top",src:t.image,style:{maxHeight:"100px"}}),r.a.createElement(Me.a.Body,{className:"p-2"},r.a.createElement(Me.a.Title,{className:"m-0"},t.detectionResult)),r.a.createElement(Me.a.Footer,{className:"p-2"},r.a.createElement("small",{className:"text-muted"},t.title))))}))),r.a.createElement("div",null,r.a.createElement("div",{className:"magictime vanishIn"},r.a.createElement(Me.a,{bg:"Light",text:"dark"},r.a.createElement(Me.a.Header,null,r.a.createElement("b",null,t("plates.cars.unknownCars"))),r.a.createElement(Me.a.Body,{style:{padding:"0px"}},r.a.createElement("small",{className:"ml-2"},t("plates.cars.byDefaultDescription")),r.a.createElement(Ze,this.props),r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap"},a)),r.a.createElement(Me.a.Footer,null,r.a.createElement("small",{className:"text-muted"},t("plates.cars.requireAttentionDescription"))))),r.a.createElement(mt,{t:t,show:this.state.plateEditModalData.show,title:this.state.plateEditModalData.title,description:this.state.plateEditModalData.description,id:this.state.plateEditModalData.id,licencePlate:this.state.plateEditModalData.licencePlate,ownerName:this.state.plateEditModalData.ownerName,closeHandler:function(){return e.plateEditModalCloseHandler},saveHandler:function(t){return e.plateEditModalSaveHandler(t)},lpOnChange:function(t){return e.setState({plateEditModalData:Object(ot.a)(Object(ot.a)({},e.state.plateEditModalData),{},{licencePlate:pt(t)})})},ownerOnChange:function(t){return e.setState({plateEditModalData:Object(ot.a)(Object(ot.a)({},e.state.plateEditModalData),{},{ownerName:t})})},imageData:this.state.plateEditModalData.imageData,showReject:!0,rejectHandler:function(t){return e.plateRejectHandler(t)}}))}}]),a}(n.Component),gt=Object(C.b)((function(e){return{dateRangeStartDate:e.dateReducer.dateRangeStartDate,dateRangeEndDate:e.dateReducer.dateRangeEndDate}}))(Object(v.a)("i18n")(ht)),ft=a(284),vt=a(285),Et=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={totalPlates:0,licensePlates:[],filteredLicensePlates:[],plateEditModalData:{show:!1}},e.onSearchFilterChangeHandler=function(t){var a=String(t.target.value).toLowerCase(),n=e.state.licensePlates.slice();e.setState({filteredLicensePlates:n.filter((function(e){return String(e.licence_plate).toLowerCase().includes(a)||String(e.owner_name).toLowerCase().includes(a)}))})},e.addNewPlateHandler=function(){e.setState({plateEditModalData:{show:!0,title:e.props.t("plates.cars.addNewPlate"),description:e.props.t("plates.cars.addNewPlateDescription"),id:null,licencePlate:"",ownerName:""}})},e.editPlateHandler=function(t,a,n){e.setState({plateEditModalData:{show:!0,title:e.props.t("plates.owners.editExistingPlate"),description:e.props.t("plates.owners.editPlateDescription"),id:t,licencePlate:a,ownerName:n}})},e.plateEditModalCloseHandler=function(){e.setState({plateEditModalData:{show:!1}})},e.plateEditModalSaveHandler=function(t){null===t.id?le(t.licencePlate,t.ownerName,0).then((function(t){e.loadLicensePlates().then((function(){return null})),e.plateEditModalCloseHandler()})).catch((function(e){alert(e)})):ue(t.id,t.licencePlate,t.ownerName).then((function(t){e.loadLicensePlates().then((function(){return null})),e.plateEditModalCloseHandler()})).catch((function(e){alert(e)}))},e.plateRemoveHandler=function(t,a){confirm(e.props.t("generic.delete")+" "+a)&&ce(t).then((function(t){e.loadLicensePlates().then((function(){return null}))})).catch((function(e){alert(e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadLicensePlates().then((function(){return null}))}},{key:"loadLicensePlates",value:function(){var e=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:t=e.sent,this.setState({totalPlates:t.length,licensePlates:t,filteredLicensePlates:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=[];return void 0!==this.state.filteredLicensePlates&&this.state.filteredLicensePlates.length>0&&(a=this.state.filteredLicensePlates.map((function(a){return r.a.createElement("tr",{key:a.id},r.a.createElement("td",null,a.id),r.a.createElement("td",null,a.licence_plate),r.a.createElement("td",null,a.owner_name),r.a.createElement("td",null,r.a.createElement(ft.a,null,r.a.createElement(vt.a,null,r.a.createElement(Pe.a,{variant:"dark",size:"sm",className:"mr-2",onClick:function(){return e.editPlateHandler(a.id,a.licence_plate,a.owner_name)}},t("plates.owners.edit")),r.a.createElement(Pe.a,{variant:"outline-danger",size:"sm",onClick:function(){return e.plateRemoveHandler(a.id,a.licence_plate)}},t("plates.owners.remove"))))))}))),r.a.createElement("div",{className:"magictime vanishIn"},r.a.createElement(Me.a,{bg:"Light",text:"dark"},r.a.createElement(Me.a.Header,null,r.a.createElement("b",null,t("plates.owners.vehicleOwners"))),r.a.createElement(Me.a.Body,{style:{padding:"0px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("input",{type:"text",className:"form-control mt-2 mb-2",placeholder:t("plates.owners.searchFilter"),"aria-label":"Search",onChange:function(t){return e.onSearchFilterChangeHandler(t)}})),r.a.createElement("div",{className:"col-sm-auto"},r.a.createElement("div",null,r.a.createElement(Pe.a,{variant:"info",className:"mt-2 mr-2",onClick:this.addNewPlateHandler},t("plates.owners.addPlate"))))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(He.a,{striped:!0,bordered:!0,hover:!0,variant:"light",size:"sm",style:{minWidth:"650px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,t("plates.owners.plate")),r.a.createElement("th",null,t("plates.owners.owner")),r.a.createElement("th",null,t("plates.owners.actions")))),r.a.createElement("tbody",null,a)))),r.a.createElement(Me.a.Footer,null,r.a.createElement("small",{className:"text-muted"},t("plates.owners.vehicleCount",{count:this.state.totalPlates})))),r.a.createElement(mt,{t:t,show:this.state.plateEditModalData.show,title:this.state.plateEditModalData.title,description:this.state.plateEditModalData.description,id:this.state.plateEditModalData.id,licencePlate:this.state.plateEditModalData.licencePlate,ownerName:this.state.plateEditModalData.ownerName,closeHandler:function(){return e.plateEditModalCloseHandler},saveHandler:function(t){return e.plateEditModalSaveHandler(t)},lpOnChange:function(t){return e.setState({plateEditModalData:Object(ot.a)(Object(ot.a)({},e.state.plateEditModalData),{},{licencePlate:pt(t)})})},ownerOnChange:function(t){return e.setState({plateEditModalData:Object(ot.a)(Object(ot.a)({},e.state.plateEditModalData),{},{ownerName:t})})},imageData:void 0,showReject:!1,rejectHandler:function(){return null}}))}}]),a}(n.Component),bt=Object(v.a)("i18n")(Et),Dt=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(gt,this.props)),r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(bt,this.props)))}}]),a}(n.Component),yt=Object(C.b)((function(e){return{}}))(Dt),wt=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.t;return r.a.createElement("div",null,r.a.createElement("div",{className:"magictime vanishIn"},r.a.createElement(Me.a,{bg:"Light",text:"dark"},r.a.createElement(Me.a.Header,null,r.a.createElement("b",null,e("training.plateTraining.plateTraining"))),r.a.createElement(Me.a.Body,{style:{padding:"5px"}},r.a.createElement("small",{className:"mb-4"},e("training.plateTraining.plateTrainingDescription")),r.a.createElement("div",{className:"mt-2"},r.a.createElement(Pe.a,{variant:"dark",onClick:function(){return window.open("/plate-training.html","_blank")}},e("training.plateTraining.openPlateTraining")))))))}}]),a}(n.Component),kt=Object(v.a)("i18n")(wt),It=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,faceGroupingNames:[],faceGroupingImages:[],loadedFile:"",showNames:!1},e.faceGroupingFaceImageClickHandler=function(t){e.setState({loadedFile:t,showNames:!0})},e.loadMoreHandler=function(){e.setState({isLoading:!0}),e.loadFaceGroupingImages().then((function(){return null}))},e.deleteAllVisibleHandler=function(){confirm("Really delete all visible images?")&&(e.state.faceGroupingImages.forEach((function(e){fe("delete",e.file).then((function(){return null}))})),e.setState({faceGroupingImages:[]}),e.loadFaceGroupingImages().then((function(){return null})))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadFaceGroupingImages().then((function(){return null}))}},{key:"loadFaceGroupingImages",value:function(){var e=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,this.setState({isLoading:!1,faceGroupingNames:t.names,faceGroupingImages:t.images});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=[],n=[];return void 0!==this.state.faceGroupingImages&&this.state.faceGroupingImages.length>0&&(a=this.state.faceGroupingImages.map((function(t){return r.a.createElement("img",{id:t.file,title:t.title,className:"CursorPointer mr-1 ml-1 mt-1 magictime spaceInLeft",style:{maxHeight:"120px",maxWidth:"120px",width:"auto",height:"auto"},key:t.file,src:t.image,alt:t.file,onClick:function(){return e.faceGroupingFaceImageClickHandler(t.file)}})}))),this.state.faceGroupingNames.length>0&&(n=this.state.faceGroupingNames.map((function(t){return r.a.createElement("div",{key:String(t)},r.a.createElement(Pe.a,{onClick:Object(U.a)(G.a.mark((function a(){return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.moveFaceGroupingImageHandler(String(t));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)}))),variant:"outline-secondary",size:"sm",className:"m-1"},t))}))).push(r.a.createElement("div",{key:"delete"},r.a.createElement(Pe.a,{onClick:Object(U.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.moveFaceGroupingImageHandler("delete");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),variant:"outline-danger",size:"sm",className:"m-1"},"delete"))),r.a.createElement("div",null,r.a.createElement("div",{className:"magictime vanishIn"},r.a.createElement(Me.a,{bg:"Light",text:"dark"},r.a.createElement(Me.a.Header,null,r.a.createElement("b",null,t("training.personTraining.title"))),r.a.createElement(Me.a.Body,{className:"d-flex flex-column align-items-center",style:{padding:"5px"}},r.a.createElement("div",{className:"d-flex flex-wrap mt-2 mb-2"},a),this.state.isLoading?r.a.createElement(F,{isDark:!0}):null,r.a.createElement("small",{className:"mb-1 text-muted"},t("training.personTraining.clickImageDescription")),r.a.createElement("div",{className:"d-flex flex-wrap mt-2 mb-4"},this.state.showNames?n:null),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{md:"auto"},r.a.createElement(Pe.a,{onClick:Object(U.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.trainModelHandler();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),variant:"secondary",size:"sm"},t("training.personTraining.trainModel"))),r.a.createElement(vt.a,{md:"auto"},r.a.createElement(Pe.a,{onClick:function(){return e.loadMoreHandler()},variant:"secondary",size:"sm"},t("training.personTraining.loadMore"))),r.a.createElement(vt.a,{md:"auto"},r.a.createElement(Pe.a,{onClick:function(){return e.deleteAllVisibleHandler()},variant:"danger",size:"sm"},t("training.personTraining.deleteAllVisible"))))))))}},{key:"moveFaceGroupingImageHandler",value:function(){var e=Object(U.a)(G.a.mark((function e(t){var a=this;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t,this.state.loadedFile);case 2:this.setState({showNames:!1,faceGroupingImages:this.state.faceGroupingImages.filter((function(e){return e.file!==a.state.loadedFile}))});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"trainModelHandler",value:function(){var e=Object(U.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Send train face model training action?")){e.next=5;break}return e.next=3,Ee();case 3:t=e.sent,alert(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Nt=Object(v.a)("i18n")(It),Ot=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(kt,null)),r.a.createElement("div",{className:"mt-2 mr-2 ml-2"},r.a.createElement(Nt,null)))}}]),a}(n.Component),jt=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[j.a.Cameras],t=this.props.isAuthenticated?r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:e.join(" "),style:{paddingBottom:"80px"}},r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/",component:lt}),r.a.createElement(N.a,{exact:!0,path:"/cameras",component:Ce}),r.a.createElement(N.a,{exact:!0,path:"/plates",component:yt}),r.a.createElement(N.a,{exact:!0,path:"/faces",component:ct}),r.a.createElement(N.a,{exact:!0,path:"/training",component:Ot})))):r.a.createElement("div",{className:e.join(" ")},r.a.createElement("h1",{className:"m-2",style:{color:"white"}},"Login not implemented"),r.a.createElement("small",{className:"m-2",style:{color:"white"}},"You should not see this yet"));return r.a.createElement("div",{className:"App"},t)}}]),a}(n.Component),xt=Object(C.b)((function(e){return{isAuthenticated:null!==e.authReducer.token}}),(function(e){return{onTryAutoSignup:function(){return e(S())}}}))(jt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(274),a(275);var St=a(40),Ct=Oe(),Mt={selectedDate:Ct,dateRangeStartDate:je(Ct,-7),dateRangeEndDate:Ct},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_DATE":return Object(ot.a)(Object(ot.a)({},e),{selectedDate:t.selectedDate});case"INCREMENT_DAY":case"DECREMENT_DAY":return Object(ot.a)(Object(ot.a)({},e),{selectedDate:je(e.selectedDate,t.days)});case"CALENDAR_SELECTION":return Object(ot.a)(Object(ot.a)({},e),{selectedDate:t.calendar.target.value});case"DATE_RANGE_START_DATE_SELECTED":return Object(ot.a)(Object(ot.a)({},e),{dateRangeStartDate:t.calendar.target.value});case"DATE_RANGE_END_DATE_SELECTED":return Object(ot.a)(Object(ot.a)({},e),{dateRangeEndDate:t.calendar.target.value});default:return e}},At={token:"dummy-place-holder",userId:null,error:null,loading:!1,authRedirectPath:"/"},Lt=function(e,t){return Ft(e,{error:null,loading:!0})},Rt=function(e,t){return Ft(e,{token:t.idToken,userId:t.userId,error:null,loading:!1})},Pt=function(e,t){return Ft(e,{error:t.error,loading:!1})},_t=function(e,t){return Ft(e,{token:null,userId:null})},Tt=function(e,t){return Ft(e,{authRedirectPath:t.path})},Ft=function(e,t){return Object(ot.a)(Object(ot.a)({},e),t)},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Lt(e);case"AUTH_SUCCESS":return Rt(e,t);case"AUTH_FAIL":return Pt(e,t);case"AUTH_LOGOUT":return _t(e);case"SET_AUTH_REDIRECT_PATH":return Tt(e,t);default:return e}},Gt=a(132),Ut=a(286),Vt=a(91);Vt.a.init(w);var Wt=Object(St.combineReducers)({dateReducer:Ht,authReducer:Bt}),zt=Object(St.createStore)(Wt,Object(Gt.composeWithDevTools)(Object(St.applyMiddleware)()));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,{store:zt},r.a.createElement(f.a,null,r.a.createElement(Ut.a,{i18n:Vt.a},r.a.createElement(xt,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports={NavbarBrand:"Navbar_NavbarBrand__331oC",Link:"Navbar_Link__2xgcF"}}},[[139,1,2]]]);
//# sourceMappingURL=main.47734188.chunk.js.map